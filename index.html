<html lang="en">
  <head>
    <script src="https://www.unpkg.com/@eohjsc/era-widget@1.1.3/src/index.js"></script>
    ;

    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Smart Home Dashboard</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #f0f0f0;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      .dashboard {
        background: rgba(0, 0, 0, 0.7);
        border-radius: 20px;
        padding: 20px;
        display: flex;
        flex-direction: column;
        width: 90%;
        max-width: 1200px;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }
      .top-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }
      .top-bar .left-icons,
      .top-bar .right-icons {
        display: flex;
        align-items: center;
      }
      .top-bar .left-icons i,
      .top-bar .right-icons i {
        color: #fff;
        margin-right: 10px;
        font-size: 1.2em;
      }
      .top-bar .search-bar {
        flex-grow: 1;
        display: flex;
        align-items: center;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 5px 10px;
        margin: 0 20px;
      }
      .top-bar .search-bar input {
        background: transparent;
        border: none;
        color: #fff;
        flex-grow: 1;
        padding: 5px;
        font-size: 1em;
      }
      .top-bar .search-bar input:focus {
        outline: none;
      }
      .top-bar .search-bar i {
        color: #fff;
      }
      .sidebar {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        padding: 10px;
        margin-right: 20px;
      }
      .sidebar i {
        color: #fff;
        margin: 10px 0;
        font-size: 1.5em;
      }
      .sidebar .profile {
        margin-top: auto;
      }
      .sidebar .profile img {
        border-radius: 50%;
        width: 40px;
        height: 40px;
      }
      .content {
        display: flex;
        flex-wrap: wrap;
        flex-grow: 1;
      }
      .content .card {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        padding: 20px;
        margin: 10px;
        flex: 1 1 calc(33.333% - 20px);
        display: flex;
        flex-direction: column;
        color: #fff;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .content .card:hover {
        transform: translateY(-10px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
      }
      .content .card img {
        width: 50px;
        height: 50px;
        margin-bottom: 10px;
      }
      .content .card .title {
        font-size: 1.2em;
        font-weight: 600;
        margin-bottom: 10px;
      }
      .content .card .subtitle {
        font-size: 1em;
        font-weight: 400;
        margin-bottom: 10px;
      }
      .content .card .info {
        font-size: 0.9em;
        font-weight: 400;
        margin-bottom: 10px;
      }
      .content .card .controls {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: auto;
      }
      .content .card .controls i {
        font-size: 1.2em;
      }
      .content .card .controls .toggle {
        display: flex;
        align-items: center;
      }
      .content .card .controls .toggle input {
        margin-right: 10px;
      }
      @media (max-width: 768px) {
        .content .card {
          flex: 1 1 calc(50% - 20px);
        }
      }
      @media (max-width: 480px) {
        .content .card {
          flex: 1 1 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="dashboard">
      <div class="top-bar">
        <div class="left-icons">
          <i class="fas fa-arrow-left"> </i>
          <i class="fas fa-arrow-right"> </i>
        </div>
        <div class="search-bar">
          <i class="fas fa-search"> </i>
          <input placeholder="Search..." type="text" />
        </div>
        <div class="right-icons">
          <i class="fas fa-bell"> </i>
          <i class="fas fa-cog"> </i>
        </div>
      </div>
      <div class="sidebar">
        <i class="fas fa-home"> </i>
        <i class="fas fa-lightbulb"> </i>
        <i class="fas fa-music"> </i>
        <i class="fas fa-calendar-alt"> </i>
        <i class="fas fa-user"> </i>
        <div class="profile">
          <img
            alt="Profile Picture"
            height="40"
            src="https://placehold.co/40x40"
            width="40"
          />
        </div>
      </div>
      <div class="content">
        <div class="card">
          <img
            alt="Weather Icon"
            height="50"
            src="https://placehold.co/50x50"
            width="50"
          />
          <div class="title">
            Hello, Miranda
            <span> ðŸ‘‹ </span>
          </div>
          <div class="subtitle">
            Have a good day &amp; let's set your home devices.
          </div>
          <div class="info">13Â° / 8Â°</div>
          <div class="info">Scattered clouds</div>
          <div class="info">Precipitation: 5%</div>
          <div class="info">Humidity: 80%</div>
          <div class="info">Wind: 2.5 km/h</div>
        </div>
        <div class="card">
          <div class="title">Current Temperature</div>
          <div class="subtitle">Samsung Air Conditioner</div>
          <div class="info">16Â°</div>
          <div class="info">800 rpm</div>
          <div class="controls">
            <i class="fas fa-sun"> </i>
            <i class="fas fa-fan"> </i>
            <i class="fas fa-thermometer-half"> </i>
            <i class="fas fa-arrow-up"> </i>
            <i class="fas fa-arrow-down"> </i>
          </div>
        </div>
        <div class="card">
          <img
            alt="Music Icon"
            height="50"
            src="https://placehold.co/50x50"
            width="50"
          />
          <div class="title">Waiting On The World...</div>
          <div class="subtitle">John Mayer</div>
          <div class="controls">
            <i class="fas fa-backward"> </i>
            <i class="fas fa-play"> </i>
            <i class="fas fa-forward"> </i>
            <i class="fas fa-volume-up"> </i>
          </div>
        </div>
        <div class="card">
          <img
            alt="Movie Icon"
            height="50"
            src="https://placehold.co/50x50"
            width="50"
          />
          <div class="title">Avatar: The Last Airb...</div>
          <div class="subtitle">Albert Kim Pictures, Ride...</div>
          <div class="controls">
            <i class="fas fa-play"> </i>
            <i class="fas fa-pause"> </i>
          </div>
        </div>
        <div class="card">
          <img
            alt="LED Bulb Icon"
            height="50"
            src="https://placehold.co/50x50"
            width="50"
          />
          <div class="title">LED Bulb</div>
          <div class="subtitle">Off</div>
          <div class="info">0 kWh</div>
          <div class="controls">
            <div class="toggle">
              <input type="checkbox" />
              <i class="fas fa-power-off"> </i>
            </div>
          </div>
        </div>
        <div class="card">
          <img
            alt="Wi-Fi Router Icon"
            height="50"
            src="https://placehold.co/50x50"
            width="50"
          />
          <div class="title">Wi-Fi Router</div>
          <div class="subtitle">On - Standby</div>
          <div class="info">4 kWh</div>
          <div class="controls">
            <div class="toggle">
              <input checked="" type="checkbox" />
              <i class="fas fa-power-off"> </i>
            </div>
          </div>
        </div>
        <div class="card">
          <img
            alt="Humidifier Icon"
            height="50"
            src="https://placehold.co/50x50"
            width="50"
          />
          <div class="title">Humidifier</div>
          <div class="subtitle">On - Air Quality: Excellent</div>
          <div class="info">6 kWh</div>
          <div class="controls">
            <div class="toggle">
              <input checked="" type="checkbox" />
              <i class="fas fa-power-off"> </i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      const eraWidget = new EraWidget();
      let onLight = null;
      let offLight = null;
      eraWidget.init({
        onConfiguration: (configuration) => {
          onLight = configuration.actions[0];
          offLight = configuration.actions[1];
        },
        onValues: (values) => {},
      });

      const ledCard = document.querySelector(
        '.card:has(img[alt = "LED Bulb Icon"])'
      );
      const powerIcon = ledCard.querySelector(".fas.fa-power-off");
      const ledSubtitle = ledCard.querySelector(".subtitle");
      const ledInfo = ledCard.querySelector(".info");

      let isOn = false;

      powerIcon.addEventListener("click", async function () {
        try {
          isOn = !isOn;

          if (isOn) {
            await eraWidget.triggerAction(onLight.action, null);
            ledSubtitle.textContent = "ON";
            ledInfo.textContent = "5 kWh";
            powerIcon.style.color = "#4CAF50";
          } else {
            await eraWidget.triggerAction(offLight.action, null);
            ledSubtitle.textContent = "OFF";
            ledInfo.textContent = "0 kWh";
            powerIcon.style.color = "";
          }
        } catch (error) {
          console.log("Error: ", error);
          isOn = !isOn;
        }
      });
    </script>
  </body>
</html>
